<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Multi-Utility Tools - Complete Toolkit</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Tailwind Theme -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#0f172a',
            secondary: '#1e293b',
            accent: '#3b82f6'
          }
        }
      }
    }
  </script>

  <style>
    .btn {
      @apply bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition cursor-pointer;
    }
    .input-field {
      @apply border border-gray-300 rounded-lg p-2 w-full focus:ring-2 focus:ring-blue-500 focus:outline-none;
    }
    .result-box {
      @apply bg-blue-50 p-4 rounded-lg mt-3 border-l-4 border-blue-500;
    }
  </style>
</head>

<body class="bg-gradient-to-br from-gray-50 to-gray-100 text-gray-800 min-h-screen">

<!-- ================= NAVBAR ================= -->
<nav class="bg-gradient-to-r from-primary to-secondary text-white p-4 sticky top-0 z-50 shadow-lg">
  <div class="max-w-7xl mx-auto flex justify-between items-center">
    <h1 class="text-2xl font-bold flex items-center gap-2">
      <span class="text-3xl">üõ†Ô∏è</span> Multi-Utility Tools
    </h1>
    <input
      id="search"
      type="text"
      placeholder="üîç Search tools..."
      class="px-4 py-2 rounded-lg text-black w-48 md:w-64 focus:ring-2 focus:ring-blue-400"
      onkeyup="filterTools()"
    />
  </div>
</nav>

<!-- ================= DASHBOARD ================= -->
<main class="max-w-7xl mx-auto p-6">
  <h2 class="text-2xl font-bold mb-6 text-gray-700">Choose Your Tool</h2>
  <div id="toolGrid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4">
    <!-- Tool cards generated by JS -->
  </div>
</main>

<!-- ================= MODAL ================= -->
<div id="modal" class="fixed inset-0 bg-black bg-opacity-60 hidden items-center justify-center z-50 p-4">
  <div class="bg-white rounded-2xl w-full md:w-2/3 lg:w-1/2 max-h-[90vh] overflow-y-auto p-6 relative shadow-2xl">
    <button onclick="closeModal()" class="absolute top-4 right-4 text-2xl font-bold text-gray-500 hover:text-red-600 transition">‚úñ</button>
    <h2 id="modalTitle" class="text-2xl font-bold mb-6 text-primary border-b pb-3"></h2>
    <div id="modalContent"></div>
  </div>
</div>

<!-- ================= JAVASCRIPT ================= -->
<script>
/* ================= TOOL LIST WITH ICONS ================= */
const tools = [
  { name: "Age Calculator", icon: "üéÇ" },
  { name: "Word Counter", icon: "üìù" },
  { name: "Password Generator", icon: "üîê" },
  { name: "BMI Calculator", icon: "‚öñÔ∏è" },
  { name: "GST Calculator", icon: "üí∞" },
  { name: "Unit Converter", icon: "üìè" },
  { name: "Percentage Calculator", icon: "üìä" },
  { name: "QR Code Generator", icon: "üì±" },
  { name: "Loan EMI Calculator", icon: "üè¶" },
  { name: "Case Converter", icon: "üî§" },
  { name: "Stopwatch", icon: "‚è±Ô∏è" },
  { name: "Morse Code Converter", icon: "üì°" },
  { name: "Temperature Converter", icon: "üå°Ô∏è" },
  { name: "Binary to Decimal", icon: "üíª" },
  { name: "Random Number Picker", icon: "üé≤" },
  { name: "Tip Calculator", icon: "üßæ" },
  { name: "Days Counter", icon: "üìÖ" },
  { name: "Text to Speech", icon: "üîä" },
  { name: "Lorem Ipsum Generator", icon: "üìÑ" },
  { name: "Privacy Policy Generator", icon: "üîí" }
];

/* ================= GENERATE CARDS ================= */
const grid = document.getElementById("toolGrid");

tools.forEach(tool => {
  const card = document.createElement("div");
  card.className = "tool-card bg-white rounded-xl shadow-md p-5 cursor-pointer hover:shadow-xl hover:-translate-y-1 transition-all duration-300";
  card.dataset.name = tool.name.toLowerCase();
  card.innerHTML = `
    <div class="text-center">
      <div class="text-4xl mb-3">${tool.icon}</div>
      <h3 class="font-semibold text-sm">${tool.name}</h3>
    </div>`;
  card.onclick = () => openTool(tool.name);
  grid.appendChild(card);
});

/* ================= SEARCH ================= */
function filterTools() {
  const val = document.getElementById("search").value.toLowerCase();
  document.querySelectorAll(".tool-card").forEach(card => {
    card.style.display = card.dataset.name.includes(val) ? "block" : "none";
  });
}

/* ================= MODAL HANDLER ================= */
function openModal(title, content) {
  document.getElementById("modalTitle").innerText = title;
  document.getElementById("modalContent").innerHTML = content;
  document.getElementById("modal").classList.remove("hidden");
  document.getElementById("modal").classList.add("flex");
}

function closeModal() {
  document.getElementById("modal").classList.add("hidden");
}

/* ================= TOOL LOGIC ================= */
function openTool(tool) {

  /* AGE CALCULATOR */
  if (tool === "Age Calculator") {
    openModal(tool, `
      <label class="block mb-2 font-semibold">Enter Your Date of Birth:</label>
      <input type="date" id="dob" class="input-field" max="${new Date().toISOString().split('T')[0]}">
      <button class="btn mt-4 w-full" id="calcAgeBtn">Calculate Age</button>
      <div id="ageResult" class="hidden result-box"></div>
    `);
    
    setTimeout(() => {
      document.getElementById('calcAgeBtn').onclick = function() {
        const dob = new Date(document.getElementById('dob').value);
        if(!dob || isNaN(dob)) {
          alert('Please enter a valid date');
          return;
        }
        const today = new Date();
        let years = today.getFullYear() - dob.getFullYear();
        let months = today.getMonth() - dob.getMonth();
        let days = today.getDate() - dob.getDate();
        
        if(days < 0) {
          months--;
          days += new Date(today.getFullYear(), today.getMonth(), 0).getDate();
        }
        if(months < 0) {
          years--;
          months += 12;
        }
        
        const totalDays = Math.floor((today - dob) / (1000 * 60 * 60 * 24));
        const result = document.getElementById('ageResult');
        result.classList.remove('hidden');
        result.innerHTML = `
          <h3 class="font-bold text-xl mb-2">Your Age:</h3>
          <p class="text-lg"><strong>${years}</strong> Years, <strong>${months}</strong> Months, <strong>${days}</strong> Days</p>
          <p class="text-sm text-gray-600 mt-2">Total Days: ${totalDays} days</p>
        `;
      };
    }, 100);
  }

  /* WORD COUNTER */
  else if (tool === "Word Counter") {
    openModal(tool, `
      <textarea id="txt" class="input-field h-40" placeholder="Type or paste your text here..."></textarea>
      <div class="grid grid-cols-2 gap-4 mt-4">
        <div class="bg-blue-50 p-4 rounded-lg text-center">
          <p class="text-2xl font-bold text-blue-600" id="wc">0</p>
          <p class="text-sm text-gray-600">Words</p>
        </div>
        <div class="bg-green-50 p-4 rounded-lg text-center">
          <p class="text-2xl font-bold text-green-600" id="cc">0</p>
          <p class="text-sm text-gray-600">Characters</p>
        </div>
        <div class="bg-purple-50 p-4 rounded-lg text-center">
          <p class="text-2xl font-bold text-purple-600" id="sc">0</p>
          <p class="text-sm text-gray-600">Sentences</p>
        </div>
        <div class="bg-orange-50 p-4 rounded-lg text-center">
          <p class="text-2xl font-bold text-orange-600" id="pc">0</p>
          <p class="text-sm text-gray-600">Paragraphs</p>
        </div>
      </div>
      <script>
        txt.oninput = () => {
          const text = txt.value;
          wc.innerText = text.trim().split(/\\s+/).filter(Boolean).length;
          cc.innerText = text.length;
          sc.innerText = text.split(/[.!?]+/).filter(Boolean).length;
          pc.innerText = text.split(/\\n+/).filter(Boolean).length;
        }
      <\/script>
    `);
  }

  /* PASSWORD GENERATOR */
  else if (tool === "Password Generator") {
    openModal(tool, `
      <label class="block mb-2 font-semibold">Password Length:</label>
      <input type="number" id="pwdLen" class="input-field" value="12" min="4" max="50">
      <div class="mt-4 space-y-2">
        <label class="flex items-center gap-2">
          <input type="checkbox" id="includeUpper" checked class="w-4 h-4">
          Include Uppercase (A-Z)
        </label>
        <label class="flex items-center gap-2">
          <input type="checkbox" id="includeLower" checked class="w-4 h-4">
          Include Lowercase (a-z)
        </label>
        <label class="flex items-center gap-2">
          <input type="checkbox" id="includeNum" checked class="w-4 h-4">
          Include Numbers (0-9)
        </label>
        <label class="flex items-center gap-2">
          <input type="checkbox" id="includeSymbol" checked class="w-4 h-4">
          Include Symbols (!@#$%^&*)
        </label>
      </div>
      <button class="btn mt-4 w-full" onclick="generatePassword()">Generate Password</button>
      <div id="pwdResult" class="hidden result-box">
        <p class="font-mono text-lg break-all" id="pwdText"></p>
        <button class="btn mt-2" onclick="copyPassword()">Copy to Clipboard</button>
      </div>
      <script>
        function generatePassword() {
          const len = parseInt(document.getElementById('pwdLen').value);
          const upper = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
          const lower = 'abcdefghijklmnopqrstuvwxyz';
          const nums = '0123456789';
          const symbols = '!@#$%^&*()_+-=[]{}|;:,.<>?';
          let chars = '';
          
          if(document.getElementById('includeUpper').checked) chars += upper;
          if(document.getElementById('includeLower').checked) chars += lower;
          if(document.getElementById('includeNum').checked) chars += nums;
          if(document.getElementById('includeSymbol').checked) chars += symbols;
          
          if(!chars) {
            alert('Please select at least one character type');
            return;
          }
          
          let pwd = '';
          for(let i = 0; i < len; i++) {
            pwd += chars.charAt(Math.floor(Math.random() * chars.length));
          }
          
          document.getElementById('pwdText').innerText = pwd;
          document.getElementById('pwdResult').classList.remove('hidden');
        }
        
        function copyPassword() {
          const pwd = document.getElementById('pwdText').innerText;
          navigator.clipboard.writeText(pwd);
          alert('Password copied to clipboard!');
        }
      <\/script>
    `);
  }

  /* BMI CALCULATOR */
  else if (tool === "BMI Calculator") {
    openModal(tool, `
      <div class="space-y-4">
        <div>
          <label class="block mb-2 font-semibold">Weight (kg):</label>
          <input type="number" id="weight" class="input-field" placeholder="e.g., 70">
        </div>
        <div>
          <label class="block mb-2 font-semibold">Height (cm):</label>
          <input type="number" id="height" class="input-field" placeholder="e.g., 170">
        </div>
        <button class="btn w-full" onclick="calculateBMI()">Calculate BMI</button>
        <div id="bmiResult" class="hidden result-box"></div>
      </div>
      <script>
        function calculateBMI() {
          const weight = parseFloat(document.getElementById('weight').value);
          const height = parseFloat(document.getElementById('height').value) / 100;
          
          if(!weight || !height || weight <= 0 || height <= 0) {
            alert('Please enter valid values');
            return;
          }
          
          const bmi = (weight / (height * height)).toFixed(2);
          let category = '';
          let color = '';
          
          if(bmi < 18.5) {
            category = 'Underweight';
            color = 'text-blue-600';
          } else if(bmi < 25) {
            category = 'Normal';
            color = 'text-green-600';
          } else if(bmi < 30) {
            category = 'Overweight';
            color = 'text-orange-600';
          } else {
            category = 'Obese';
            color = 'text-red-600';
          }
          
          const result = document.getElementById('bmiResult');
          result.classList.remove('hidden');
          result.innerHTML = \`
            <h3 class="font-bold text-xl mb-2">Your BMI:</h3>
            <p class="text-3xl font-bold \${color}">\${bmi}</p>
            <p class="text-lg mt-2">Category: <span class="\${color} font-semibold">\${category}</span></p>
          \`;
        }
      <\/script>
    `);
  }

  /* GST CALCULATOR */
  else if (tool === "GST Calculator") {
    openModal(tool, `
      <div class="space-y-4">
        <div>
          <label class="block mb-2 font-semibold">Original Amount (‚Çπ):</label>
          <input type="number" id="amount" class="input-field" placeholder="e.g., 1000">
        </div>
        <div>
          <label class="block mb-2 font-semibold">GST Rate (%):</label>
          <select id="gstRate" class="input-field">
            <option value="5">5%</option>
            <option value="12">12%</option>
            <option value="18" selected>18%</option>
            <option value="28">28%</option>
          </select>
        </div>
        <button class="btn w-full" onclick="calculateGST()">Calculate GST</button>
        <div id="gstResult" class="hidden result-box"></div>
      </div>
      <script>
        function calculateGST() {
          const amount = parseFloat(document.getElementById('amount').value);
          const rate = parseFloat(document.getElementById('gstRate').value);
          
          if(!amount || amount <= 0) {
            alert('Please enter valid amount');
            return;
          }
          
          const gst = (amount * rate / 100).toFixed(2);
          const total = (amount + parseFloat(gst)).toFixed(2);
          
          const result = document.getElementById('gstResult');
          result.classList.remove('hidden');
          result.innerHTML = \`
            <div class="space-y-2">
              <p><strong>Original Amount:</strong> ‚Çπ\${amount}</p>
              <p><strong>GST (\${rate}%):</strong> ‚Çπ\${gst}</p>
              <p class="text-xl font-bold text-green-600 pt-2 border-t">Total Amount: ‚Çπ\${total}</p>
            </div>
          \`;
        }
      <\/script>
    `);
  }

  /* UNIT CONVERTER */
  else if (tool === "Unit Converter") {
    openModal(tool, `
      <div class="space-y-4">
        <div>
          <label class="block mb-2 font-semibold">Select Unit Type:</label>
          <select id="unitType" class="input-field" onchange="updateUnits()">
            <option value="length">Length</option>
            <option value="weight">Weight</option>
            <option value="temperature">Temperature</option>
          </select>
        </div>
        <div>
          <label class="block mb-2 font-semibold">From:</label>
          <input type="number" id="fromValue" class="input-field" placeholder="Enter value">
          <select id="fromUnit" class="input-field mt-2"></select>
        </div>
        <div>
          <label class="block mb-2 font-semibold">To:</label>
          <select id="toUnit" class="input-field"></select>
        </div>
        <button class="btn w-full" onclick="convertUnit()">Convert</button>
        <div id="unitResult" class="hidden result-box"></div>
      </div>
      <script>
        const units = {
          length: ['Meter', 'Kilometer', 'Centimeter', 'Millimeter', 'Mile', 'Yard', 'Foot', 'Inch'],
          weight: ['Kilogram', 'Gram', 'Milligram', 'Pound', 'Ounce'],
          temperature: ['Celsius', 'Fahrenheit', 'Kelvin']
        };
        
        function updateUnits() {
          const type = document.getElementById('unitType').value;
          const fromUnit = document.getElementById('fromUnit');
          const toUnit = document.getElementById('toUnit');
          
          fromUnit.innerHTML = '';
          toUnit.innerHTML = '';
          
          units[type].forEach(unit => {
            fromUnit.innerHTML += \`<option value="\${unit}">\${unit}</option>\`;
            toUnit.innerHTML += \`<option value="\${unit}">\${unit}</option>\`;
          });
        }
        
        updateUnits();
        
        function convertUnit() {
          const type = document.getElementById('unitType').value;
          const value = parseFloat(document.getElementById('fromValue').value);
          const from = document.getElementById('fromUnit').value;
          const to = document.getElementById('toUnit').value;
          
          if(!value) {
            alert('Please enter a value');
            return;
          }
          
          let result;
          
          if(type === 'length') {
            const toMeter = {
              'Meter': 1, 'Kilometer': 1000, 'Centimeter': 0.01, 'Millimeter': 0.001,
              'Mile': 1609.34, 'Yard': 0.9144, 'Foot': 0.3048, 'Inch': 0.0254
            };
            result = value * toMeter[from] / toMeter[to];
          } else if(type === 'weight') {
            const toKg = {
              'Kilogram': 1, 'Gram': 0.001, 'Milligram': 0.000001,
              'Pound': 0.453592, 'Ounce': 0.0283495
            };
            result = value * toKg[from] / toKg[to];
          } else {
            // Temperature conversion
            if(from === 'Celsius' && to === 'Fahrenheit') result = (value * 9/5) + 32;
            else if(from === 'Celsius' && to === 'Kelvin') result = value + 273.15;
            else if(from === 'Fahrenheit' && to === 'Celsius') result = (value - 32) * 5/9;
            else if(from === 'Fahrenheit' && to === 'Kelvin') result = (value - 32) * 5/9 + 273.15;
            else if(from === 'Kelvin' && to === 'Celsius') result = value - 273.15;
            else if(from === 'Kelvin' && to === 'Fahrenheit') result = (value - 273.15) * 9/5 + 32;
            else result = value;
          }
          
          const resultDiv = document.getElementById('unitResult');
          resultDiv.classList.remove('hidden');
          resultDiv.innerHTML = \`
            <p class="text-xl font-bold">\${value} \${from} = \${result.toFixed(4)} \${to}</p>
          \`;
        }
      <\/script>
    `);
  }

  /* PERCENTAGE CALCULATOR */
  else if (tool === "Percentage Calculator") {
    openModal(tool, `
      <div class="space-y-4">
        <div>
          <label class="block mb-2 font-semibold">What is</label>
          <input type="number" id="percent" class="input-field" placeholder="e.g., 20">
        </div>
        <div>
          <label class="block mb-2 font-semibold">% of</label>
          <input type="number" id="ofValue" class="input-field" placeholder="e.g., 500">
        </div>
        <button class="btn w-full" onclick="calculatePercentage()">Calculate</button>
        <div id="percentResult" class="hidden result-box"></div>
      </div>
      <script>
        function calculatePercentage() {
          const percent = parseFloat(document.getElementById('percent').value);
          const ofValue = parseFloat(document.getElementById('ofValue').value);
          
          if(isNaN(percent) || isNaN(ofValue)) {
            alert('Please enter valid numbers');
            return;
          }
          
          const result = (percent / 100) * ofValue;
          
          const resultDiv = document.getElementById('percentResult');
          resultDiv.classList.remove('hidden');
          resultDiv.innerHTML = \`
            <p class="text-2xl font-bold text-green-600">\${percent}% of \${ofValue} = \${result.toFixed(2)}</p>
          \`;
        }
      <\/script>
    `);
  }

  /* QR CODE GENERATOR */
  else if (tool === "QR Code Generator") {
    openModal(tool, `
      <div class="space-y-4">
        <label class="block mb-2 font-semibold">Enter Text or URL:</label>
        <input id="qrtext" class="input-field" placeholder="Enter text, URL, or any data">
        <button class="btn w-full" onclick="generateQR()">Generate QR Code</button>
        <div id="qrContainer" class="hidden text-center">
          <img id="qrimg" class="mx-auto border-4 border-gray-200 rounded-lg">
          <button class="btn mt-4" onclick="downloadQR()">Download QR Code</button>
        </div>
      </div>
      <script>
        function generateQR() {
          const text = document.getElementById('qrtext').value;
          if(!text) {
            alert('Please enter some text');
            return;
          }
          const qrimg = document.getElementById('qrimg');
          qrimg.src = 'https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=' + encodeURIComponent(text);
          document.getElementById('qrContainer').classList.remove('hidden');
        }
        
        function downloadQR() {
          const img = document.getElementById('qrimg');
          const link = document.createElement('a');
          link.href = img.src;
          link.download = 'qrcode.png';
          link.click();
        }
      <\/script>
    `);
  }

  /* LOAN EMI CALCULATOR */
  else if (tool === "Loan EMI Calculator") {
    openModal(tool, `
      <div class="space-y-4">
        <div>
          <label class="block mb-2 font-semibold">Loan Amount (‚Çπ):</label>
          <input type="number" id="loanAmount" class="input-field" placeholder="e.g., 500000">
        </div>
        <div>
          <label class="block mb-2 font-semibold">Interest Rate (% per annum):</label>
          <input type="number" id="interestRate" class="input-field" placeholder="e.g., 8.5" step="0.1">
        </div>
        <div>
          <label class="block mb-2 font-semibold">Loan Tenure (years):</label>
          <input type="number" id="tenure" class="input-field" placeholder="e.g., 10">
        </div>
        <button class="btn w-full" onclick="calculateEMI()">Calculate EMI</button>
        <div id="emiResult" class="hidden result-box"></div>
      </div>
      <script>
        function calculateEMI() {
          const P = parseFloat(document.getElementById('loanAmount').value);
          const r = parseFloat(document.getElementById('interestRate').value) / 12 / 100;
          const n = parseFloat(document.getElementById('tenure').value) * 12;
          
          if(!P || !r || !n) {
            alert('Please enter all values');
            return;
          }
          
          const emi = P * r * Math.pow(1 + r, n) / (Math.pow(1 + r, n) - 1);
          const totalAmount = emi * n;
          const totalInterest = totalAmount - P;
          
          const result = document.getElementById('emiResult');
          result.classList.remove('hidden');
          result.innerHTML = \`
            <div class="space-y-2">
              <p class="text-2xl font-bold text-blue-600">Monthly EMI: ‚Çπ\${emi.toFixed(2)}</p>
              <p><strong>Principal Amount:</strong> ‚Çπ\${P.toFixed(2)}</p>
              <p><strong>Total Interest:</strong> ‚Çπ\${totalInterest.toFixed(2)}</p>
              <p><strong>Total Amount:</strong> ‚Çπ\${totalAmount.toFixed(2)}</p>
            </div>
          \`;
        }
      <\/script>
    `);
  }

  /* CASE CONVERTER */
  else if (tool === "Case Converter") {
    openModal(tool, `
      <textarea id="caseText" class="input-field h-32" placeholder="Enter your text here..."></textarea>
      <div class="grid grid-cols-2 gap-3 mt-4">
        <button class="btn" onclick="convertCase('upper')">UPPERCASE</button>
        <button class="btn" onclick="convertCase('lower')">lowercase</button>
        <button class="btn" onclick="convertCase('title')">Title Case</button>
        <button class="btn" onclick="convertCase('sentence')">Sentence case</button>
      </div>
      <div id="caseResult" class="hidden result-box mt-4"></div>
      <script>
        function convertCase(type) {
          let text = document.getElementById('caseText').value;
          if(!text) {
            alert('Please enter some text');
            return;
          }
          
          let result;
          if(type === 'upper') result = text.toUpperCase();
          else if(type === 'lower') result = text.toLowerCase();
          else if(type === 'title') {
            result = text.toLowerCase().split(' ').map(word => 
              word.charAt(0).toUpperCase() + word.slice(1)
            ).join(' ');
          } else if(type === 'sentence') {
            result = text.toLowerCase();
            result = result.charAt(0).toUpperCase() + result.slice(1);
          }
          
          const resultDiv = document.getElementById('caseResult');
          resultDiv.classList.remove('hidden');
          resultDiv.innerHTML = \`
            <p class="mb-2 font-semibold">Result:</p>
            <p class="p-3 bg-white rounded border">\${result}</p>
            <button class="btn mt-2" onclick="navigator.clipboard.writeText('\${result}'); alert('Copied!')">Copy</button>
          \`;
        }
      <\/script>
    `);
  }

  /* STOPWATCH */
  else if (tool === "Stopwatch") {
    openModal(tool, `
      <div class="text-center space-y-6">
        <div class="text-6xl font-mono font-bold text-blue-600" id="display">00:00:00</div>
        <div class="flex gap-3 justify-center">
          <button class="btn" id="startBtn" onclick="startTimer()">Start</button>
          <button class="btn bg-red-600 hover:bg-red-700" onclick="stopTimer()">Stop</button>
          <button class="btn bg-gray-600 hover:bg-gray-700" onclick="resetTimer()">Reset</button>
        </div>
        <div id="laps" class="text-left max-h-40 overflow-y-auto"></div>
      </div>
      <script>
        let timer = null;
        let seconds = 0;
        
        function updateDisplay() {
          const hrs = Math.floor(seconds / 3600).toString().padStart(2, '0');
          const mins = Math.floor((seconds % 3600) / 60).toString().padStart(2, '0');
          const secs = (seconds % 60).toString().padStart(2, '0');
          document.getElementById('display').innerText = \`\${hrs}:\${mins}:\${secs}\`;
        }
        
        function startTimer() {
          if(timer) return;
          timer = setInterval(() => {
            seconds++;
            updateDisplay();
          }, 1000);
        }
        
        function stopTimer() {
          clearInterval(timer);
          timer = null;
          if(seconds > 0) {
            const laps = document.getElementById('laps');
            laps.innerHTML += \`<p class="p-2 bg-gray-100 rounded mb-2">Lap: \${document.getElementById('display').innerText}</p>\`;
          }
        }
        
        function resetTimer() {
          clearInterval(timer);
          timer = null;
          seconds = 0;
          updateDisplay();
          document.getElementById('laps').innerHTML = '';
        }
      <\/script>
    `);
  }

  /* MORSE CODE CONVERTER */
  else if (tool === "Morse Code Converter") {
    openModal(tool, `
      <div class="space-y-4">
        <div>
          <label class="block mb-2 font-semibold">Enter Text:</label>
          <textarea id="morseInput" class="input-field h-24" placeholder="Enter text or morse code"></textarea>
        </div>
        <div class="flex gap-3">
          <button class="btn flex-1" onclick="textToMorse()">Text ‚Üí Morse</button>
          <button class="btn flex-1" onclick="morseToText()">Morse ‚Üí Text</button>
        </div>
        <div id="morseResult" class="hidden result-box"></div>
      </div>
      <script>
        const morseCode = {
          'A': '.-', 'B': '-...', 'C': '-.-.', 'D': '-..', 'E': '.', 'F': '..-.',
          'G': '--.', 'H': '....', 'I': '..', 'J': '.---', 'K': '-.-', 'L': '.-..',
          'M': '--', 'N': '-.', 'O': '---', 'P': '.--.', 'Q': '--.-', 'R': '.-.',
          'S': '...', 'T': '-', 'U': '..-', 'V': '...-', 'W': '.--', 'X': '-..-',
          'Y': '-.--', 'Z': '--..', '0': '-----', '1': '.----', '2': '..---',
          '3': '...--', '4': '....-', '5': '.....', '6': '-....', '7': '--...',
          '8': '---..', '9': '----.', ' ': '/'
        };
        
        function textToMorse() {
          const text = document.getElementById('morseInput').value.toUpperCase();
          const morse = text.split('').map(char => morseCode[char] || char).join(' ');
          showResult(morse);
        }
        
        function morseToText() {
          const morse = document.getElementById('morseInput').value;
          const reverseMorse = Object.fromEntries(Object.entries(morseCode).map(([k, v]) => [v, k]));
          const text = morse.split(' ').map(code => reverseMorse[code] || code).join('');
          showResult(text);
        }
        
        function showResult(result) {
          const resultDiv = document.getElementById('morseResult');
          resultDiv.classList.remove('hidden');
          resultDiv.innerHTML = \`
            <p class="mb-2 font-semibold">Result:</p>
            <p class="p-3 bg-white rounded border break-all">\${result}</p>
            <button class="btn mt-2" onclick="navigator.clipboard.writeText('\${result}'); alert('Copied!')">Copy</button>
          \`;
        }
      <\/script>
    `);
  }

  /* TEMPERATURE CONVERTER */
  else if (tool === "Temperature Converter") {
    openModal(tool, `
      <div class="space-y-4">
        <div>
          <label class="block mb-2 font-semibold">Enter Temperature:</label>
          <input type="number" id="tempValue" class="input-field" placeholder="e.g., 25">
        </div>
        <div>
          <label class="block mb-2 font-semibold">From:</label>
          <select id="fromTemp" class="input-field">
            <option value="C">Celsius (¬∞C)</option>
            <option value="F">Fahrenheit (¬∞F)</option>
            <option value="K">Kelvin (K)</option>
          </select>
        </div>
        <button class="btn w-full" onclick="convertTemp()">Convert</button>
        <div id="tempResult" class="hidden result-box"></div>
      </div>
      <script>
        function convertTemp() {
          const value = parseFloat(document.getElementById('tempValue').value);
          const from = document.getElementById('fromTemp').value;
          
          if(isNaN(value)) {
            alert('Please enter a valid temperature');
            return;
          }
          
          let celsius, fahrenheit, kelvin;
          
          if(from === 'C') {
            celsius = value;
            fahrenheit = (value * 9/5) + 32;
            kelvin = value + 273.15;
          } else if(from === 'F') {
            celsius = (value - 32) * 5/9;
            fahrenheit = value;
            kelvin = celsius + 273.15;
          } else {
            celsius = value - 273.15;
            fahrenheit = (celsius * 9/5) + 32;
            kelvin = value;
          }
          
          const result = document.getElementById('tempResult');
          result.classList.remove('hidden');
          result.innerHTML = \`
            <div class="space-y-2">
              <p class="text-lg"><strong>Celsius:</strong> \${celsius.toFixed(2)}¬∞C</p>
              <p class="text-lg"><strong>Fahrenheit:</strong> \${fahrenheit.toFixed(2)}¬∞F</p>
              <p class="text-lg"><strong>Kelvin:</strong> \${kelvin.toFixed(2)}K</p>
            </div>
          \`;
        }
      <\/script>
    `);
  }

  /* BINARY TO DECIMAL */
  else if (tool === "Binary to Decimal") {
    openModal(tool, `
      <div class="space-y-4">
        <div>
          <label class="block mb-2 font-semibold">Binary Number:</label>
          <input type="text" id="binary" class="input-field" placeholder="e.g., 101010">
        </div>
        <button class="btn w-full" onclick="binaryToDecimal()">Convert to Decimal</button>
        <div>
          <label class="block mb-2 font-semibold">Decimal Number:</label>
          <input type="number" id="decimal" class="input-field" placeholder="e.g., 42">
        </div>
        <button class="btn w-full" onclick="decimalToBinary()">Convert to Binary</button>
        <div id="convResult" class="hidden result-box"></div>
      </div>
      <script>
        function binaryToDecimal() {
          const binary = document.getElementById('binary').value;
          if(!/^[01]+$/.test(binary)) {
            alert('Please enter a valid binary number (only 0 and 1)');
            return;
          }
          const decimal = parseInt(binary, 2);
          showConvResult(\`Binary \${binary} = Decimal \${decimal}\`);
        }
        
        function decimalToBinary() {
          const decimal = parseInt(document.getElementById('decimal').value);
          if(isNaN(decimal)) {
            alert('Please enter a valid decimal number');
            return;
          }
          const binary = decimal.toString(2);
          showConvResult(\`Decimal \${decimal} = Binary \${binary}\`);
        }
        
        function showConvResult(text) {
          const result = document.getElementById('convResult');
          result.classList.remove('hidden');
          result.innerHTML = \`<p class="text-xl font-bold text-green-600">\${text}</p>\`;
        }
      <\/script>
    `);
  }

  /* RANDOM NUMBER PICKER */
  else if (tool === "Random Number Picker") {
    openModal(tool, `
      <div class="space-y-4">
        <div>
          <label class="block mb-2 font-semibold">Minimum:</label>
          <input type="number" id="minNum" class="input-field" value="1">
        </div>
        <div>
          <label class="block mb-2 font-semibold">Maximum:</label>
          <input type="number" id="maxNum" class="input-field" value="100">
        </div>
        <button class="btn w-full" onclick="pickRandom()">Pick Random Number</button>
        <div id="randomResult" class="hidden result-box text-center">
          <p class="text-5xl font-bold text-purple-600" id="randomNum"></p>
        </div>
      </div>
      <script>
        function pickRandom() {
          const min = parseInt(document.getElementById('minNum').value);
          const max = parseInt(document.getElementById('maxNum').value);
          
          if(isNaN(min) || isNaN(max) || min >= max) {
            alert('Please enter valid range (min < max)');
            return;
          }
          
          const random = Math.floor(Math.random() * (max - min + 1)) + min;
          document.getElementById('randomNum').innerText = random;
          document.getElementById('randomResult').classList.remove('hidden');
        }
      <\/script>
    `);
  }

  /* TIP CALCULATOR */
  else if (tool === "Tip Calculator") {
    openModal(tool, `
      <div class="space-y-4">
        <div>
          <label class="block mb-2 font-semibold">Bill Amount (‚Çπ):</label>
          <input type="number" id="billAmount" class="input-field" placeholder="e.g., 500">
        </div>
        <div>
          <label class="block mb-2 font-semibold">Tip Percentage (%):</label>
          <input type="number" id="tipPercent" class="input-field" value="10" min="0" max="100">
        </div>
        <div>
          <label class="block mb-2 font-semibold">Number of People:</label>
          <input type="number" id="numPeople" class="input-field" value="1" min="1">
        </div>
        <button class="btn w-full" onclick="calculateTip()">Calculate Tip</button>
        <div id="tipResult" class="hidden result-box"></div>
      </div>
      <script>
        function calculateTip() {
          const bill = parseFloat(document.getElementById('billAmount').value);
          const tipPer = parseFloat(document.getElementById('tipPercent').value);
          const people = parseInt(document.getElementById('numPeople').value);
          
          if(!bill || !people || bill <= 0 || people <= 0) {
            alert('Please enter valid values');
            return;
          }
          
          const tip = (bill * tipPer / 100);
          const total = bill + tip;
          const perPerson = total / people;
          
          const result = document.getElementById('tipResult');
          result.classList.remove('hidden');
          result.innerHTML = \`
            <div class="space-y-2">
              <p><strong>Bill Amount:</strong> ‚Çπ\${bill.toFixed(2)}</p>
              <p><strong>Tip (\${tipPer}%):</strong> ‚Çπ\${tip.toFixed(2)}</p>
              <p class="text-xl font-bold text-green-600 pt-2 border-t">Total: ‚Çπ\${total.toFixed(2)}</p>
              <p class="text-lg"><strong>Per Person:</strong> ‚Çπ\${perPerson.toFixed(2)}</p>
            </div>
          \`;
        }
      <\/script>
    `);
  }

  /* DAYS COUNTER */
  else if (tool === "Days Counter") {
    openModal(tool, `
      <div class="space-y-4">
        <div>
          <label class="block mb-2 font-semibold">Start Date:</label>
          <input type="date" id="startDate" class="input-field">
        </div>
        <div>
          <label class="block mb-2 font-semibold">End Date:</label>
          <input type="date" id="endDate" class="input-field">
        </div>
        <button class="btn w-full" onclick="countDays()">Count Days</button>
        <div id="daysResult" class="hidden result-box"></div>
      </div>
      <script>
        function countDays() {
          const start = new Date(document.getElementById('startDate').value);
          const end = new Date(document.getElementById('endDate').value);
          
          if(!start || !end || isNaN(start) || isNaN(end)) {
            alert('Please select both dates');
            return;
          }
          
          const diff = Math.abs(end - start);
          const days = Math.ceil(diff / (1000 * 60 * 60 * 24));
          const weeks = Math.floor(days / 7);
          const months = Math.floor(days / 30);
          
          const result = document.getElementById('daysResult');
          result.classList.remove('hidden');
          result.innerHTML = \`
            <div class="space-y-2">
              <p class="text-3xl font-bold text-blue-600">\${days} Days</p>
              <p class="text-lg">‚âà \${weeks} weeks</p>
              <p class="text-lg">‚âà \${months} months</p>
            </div>
          \`;
        }
      <\/script>
    `);
  }

  /* TEXT TO SPEECH */
  else if (tool === "Text to Speech") {
    openModal(tool, `
      <div class="space-y-4">
        <textarea id="speechText" class="input-field h-32" placeholder="Enter text to speak..."></textarea>
        <div class="flex gap-3">
          <button class="btn flex-1" onclick="speak()">üîä Speak</button>
          <button class="btn bg-red-600 hover:bg-red-700 flex-1" onclick="stopSpeaking()">‚è∏ Stop</button>
        </div>
        <div>
          <label class="block mb-2 font-semibold">Voice Speed:</label>
          <input type="range" id="speechRate" min="0.5" max="2" step="0.1" value="1" class="w-full">
          <p class="text-center text-sm text-gray-600"><span id="rateValue">1</span>x</p>
        </div>
      </div>
      <script>
        document.getElementById('speechRate').oninput = function() {
          document.getElementById('rateValue').innerText = this.value;
        };
        
        function speak() {
          const text = document.getElementById('speechText').value;
          if(!text) {
            alert('Please enter some text');
            return;
          }
          const utterance = new SpeechSynthesisUtterance(text);
          utterance.rate = parseFloat(document.getElementById('speechRate').value);
          speechSynthesis.speak(utterance);
        }
        
        function stopSpeaking() {
          speechSynthesis.cancel();
        }
      <\/script>
    `);
  }

  /* LOREM IPSUM GENERATOR */
  else if (tool === "Lorem Ipsum Generator") {
    openModal(tool, `
      <div class="space-y-4">
        <div>
          <label class="block mb-2 font-semibold">Number of Paragraphs:</label>
          <input type="number" id="paraCount" class="input-field" value="3" min="1" max="10">
        </div>
        <button class="btn w-full" onclick="generateLorem()">Generate Lorem Ipsum</button>
        <div id="loremResult" class="hidden result-box">
          <p id="loremText" class="text-justify"></p>
          <button class="btn mt-3" onclick="copyLorem()">Copy Text</button>
        </div>
      </div>
      <script>
        const lorem = "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.";
        
        function generateLorem() {
          const count = parseInt(document.getElementById('paraCount').value) || 3;
          let text = '';
          for(let i = 0; i < count; i++) {
            text += lorem + '\\n\\n';
          }
          document.getElementById('loremText').innerText = text;
          document.getElementById('loremResult').classList.remove('hidden');
        }
        
        function copyLorem() {
          const text = document.getElementById('loremText').innerText;
          navigator.clipboard.writeText(text);
          alert('Text copied to clipboard!');
        }
      <\/script>
    `);
  }

  /* PRIVACY POLICY GENERATOR */
  else if (tool === "Privacy Policy Generator") {
    openModal(tool, `
      <div class="space-y-4">
        <div>
          <label class="block mb-2 font-semibold">Company/Website Name:</label>
          <input type="text" id="companyName" class="input-field" placeholder="e.g., My Website">
        </div>
        <div>
          <label class="block mb-2 font-semibold">Website URL:</label>
          <input type="text" id="websiteUrl" class="input-field" placeholder="e.g., www.example.com">
        </div>
        <button class="btn w-full" onclick="generatePolicy()">Generate Privacy Policy</button>
        <div id="policyResult" class="hidden result-box max-h-96 overflow-y-auto">
          <div id="policyText" class="text-sm"></div>
          <button class="btn mt-3" onclick="copyPolicy()">Copy Policy</button>
        </div>
      </div>
      <script>
        function generatePolicy() {
          const company = document.getElementById('companyName').value || 'Our Company';
          const url = document.getElementById('websiteUrl').value || 'our website';
          
          const policy = \`
            <h3 class="font-bold text-lg mb-2">Privacy Policy for \${company}</h3>
            <p class="mb-3">Effective Date: \${new Date().toLocaleDateString()}</p>
            
            <h4 class="font-semibold mt-4 mb-2">1. Information We Collect</h4>
            <p>\${company} may collect personal information such as name, email address, and usage data when you visit \${url}.</p>
            
            <h4 class="font-semibold mt-4 mb-2">2. How We Use Your Information</h4>
            <p>We use the information to provide and improve our services, communicate with users, and ensure security.</p>
            
            <h4 class="font-semibold mt-4 mb-2">3. Data Security</h4>
            <p>We implement security measures to protect your personal information from unauthorized access.</p>
            
            <h4 class="font-semibold mt-4 mb-2">4. Cookies</h4>
            <p>Our website may use cookies to enhance user experience and analyze site traffic.</p>
            
            <h4 class="font-semibold mt-4 mb-2">5. Third-Party Links</h4>
            <p>Our website may contain links to third-party sites. We are not responsible for their privacy practices.</p>
            
            <h4 class="font-semibold mt-4 mb-2">6. Your Rights</h4>
            <p>You have the right to access, correct, or delete your personal information at any time.</p>
            
            <h4 class="font-semibold mt-4 mb-2">7. Changes to This Policy</h4>
            <p>We may update this privacy policy from time to time. Changes will be posted on this page.</p>
            
            <h4 class="font-semibold mt-4 mb-2">8. Contact Us</h4>
            <p>If you have questions about this privacy policy, please contact us through our website.</p>
          \`;
          
          document.getElementById('policyText').innerHTML = policy;
          document.getElementById('policyResult').classList.remove('hidden');
        }
        
        function copyPolicy() {
          const text = document.getElementById('policyText').innerText;
          navigator.clipboard.writeText(text);
          alert('Privacy policy copied to clipboard!');
        }
      <\/script>
    `);
  }
}

// Close modal on outside click
document.getElementById('modal').addEventListener('click', function(e) {
  if(e.target === this) closeModal();
});
</script>

</body>
</html>
